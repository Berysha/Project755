{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Proba\\\\Desktop\\\\projekt755\\\\client\\\\src\\\\components\\\\routes\\\\AdminRoute.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\nimport { currentAdmin } from \"../../functions/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminRoute = ({\n  children,\n  ...rest\n}) => {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [ok, setOk] = useState(false);\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token).then(res => {\n        console.log(\"CURRENT ADMIN RES\", res);\n        setOk(true);\n      }).catch(err => {\n        console.log(\"ADMIN ROUTE ERR\", err);\n        setOk(false);\n      });\n    }\n  }, [user]);\n  return ok ? /*#__PURE__*/_jsxDEV(Route, { ...rest\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 6\n  }, this) : /*#__PURE__*/_jsxDEV(LoadingToRedirect, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 7\n  }, this);\n};\n\n_s(AdminRoute, \"jxsKJPe9Dkd8Rf6vXfTKNec6JGU=\", false, function () {\n  return [useSelector];\n});\n\n_c = AdminRoute;\nexport default AdminRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminRoute\");","map":{"version":3,"sources":["C:/Users/Proba/Desktop/projekt755/client/src/components/routes/AdminRoute.js"],"names":["React","useEffect","useState","Route","useSelector","LoadingToRedirect","currentAdmin","AdminRoute","children","rest","user","state","ok","setOk","token","then","res","console","log","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,KAAR,QAAoB,kBAApB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAAQC,YAAR,QAA2B,sBAA3B;;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAW,KAAGC;AAAd,CAAD,KAAyB;AAAA;;AACxC,QAAM;AAACC,IAAAA;AAAD,MAASN,WAAW,CAAEO,KAAD,KAAW,EAAC,GAAGA;AAAJ,GAAX,CAAD,CAA1B;AACA,QAAM,CAACC,EAAD,EAAKC,KAAL,IAAcX,QAAQ,CAAC,KAAD,CAA5B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGS,IAAI,IAAIA,IAAI,CAACI,KAAhB,EAAuB;AACnBR,MAAAA,YAAY,CAACI,IAAI,CAACI,KAAN,CAAZ,CACCC,IADD,CACMC,GAAG,IAAI;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC;AACAH,QAAAA,KAAK,CAAC,IAAD,CAAL;AACH,OAJD,EAKCM,KALD,CAKQC,GAAD,IAAS;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BE,GAA/B;AACAP,QAAAA,KAAK,CAAC,KAAD,CAAL;AACH,OARD;AASH;AACJ,GAZQ,EAYN,CAACH,IAAD,CAZM,CAAT;AAcA,SAAOE,EAAE,gBACR,QAAC,KAAD,OAAWH;AAAX;AAAA;AAAA;AAAA;AAAA,UADQ,gBAGP,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,UAHF;AAKH,CAvBD;;GAAMF,U;UACaH,W;;;KADbG,U;AAyBN,eAAeA,UAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Route} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\nimport {currentAdmin} from \"../../functions/auth\"\n\nconst AdminRoute = ({children, ...rest}) => {\n    const {user} = useSelector((state)=> ({...state}));\n    const [ok, setOk] = useState(false);\n\n    useEffect(() => {\n        if(user && user.token) {\n            currentAdmin(user.token)\n            .then(res => {\n                console.log(\"CURRENT ADMIN RES\", res)\n                setOk(true)\n            })\n            .catch((err) => {\n                console.log(\"ADMIN ROUTE ERR\", err)\n                setOk(false)\n            })\n        }\n    }, [user])\n\n    return ok ?\n     <Route {...rest}   />\n     : \n      <LoadingToRedirect />\n     \n}\n\nexport default AdminRoute;"]},"metadata":{},"sourceType":"module"}